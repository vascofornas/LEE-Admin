<!DOCTYPE html>
<html>
    <head>
        <title>La España Extraña - Panel de Administración</title>
    </head>
    <body ng-controller="WelcomeCtrl">
        <nav class="container navbar-inverse">
            <div class="navbar-inverse">
                <div class="navbar-header">
                    <a href="#" class="navbar-brand">La España Extraña</a>
                </div>
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#/welcome" >Portada</a></li>
                    <li><a href="#/addPost" >Crear enclave</a></li>
                    <li ng-click="logout()"><a href="#" >Salir</a></li>
                </ul>
            </div>
        </nav>

        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h3>{{username}}, bienvenid@ al panel de control</h3>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row" ng-repeat="article in articles">
                <div class="col-md-12 well well-sm">
                    <h4>{{article.Nombre_enclave}}</h4>
                    <p>{{article.Descripcion_enclave}}</p>
                    <button type="submit" class="btn btn-sm btn-primary" ng-click="editPost(article.$id)" data-target="#editModal" data-toggle="modal">Editar</button>
                    <button type="submit" class="btn btn-sm btn-danger" ng-click="deleteCnf(article)" data-target="#deleteModal" data-toggle="modal">Borrar</button>
                </div>
            </div>
        </div>
        <div class="container">
            <div id="editModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class= "modal-header">
                            <h4>Editar detalles del enclave</h4>
                        </div>
                        <div class="modal-body">
                            <form role="form">
                                <div class="form-group">
                                    <label for="nombre">Nombre del enclave</label>
                                    <input type="text" name="nombre" class="form-control" ng-model = "editPostData.Nombre_enclave"/>
                                </div>
                                <div class="form-group">
                                    <label for="descripcion">Descripción del enclave</label>
                                    <textarea name="descripcion" class="form-control" ng-model ="editPostData.Descripcion_enclave"></textarea>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-sm btn-primary"ng-click ="updatePost(editPostData.$id)">Aceptar cambios</button>
                            <button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div id="deleteModal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <p>Seguro que quieres borrar este enclave?         </p>             

                            </div>
                        <div class="modal-body"></div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-sm btn-danger" ng-click="deletePost(deleteArticle)">Borrar</button>
                            <button type="button" class="btn btn-sm btn-default" data-dismiss="modal">Cancelar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
                            
    </body>
</html>    